{
    "contents" : "library(tm) # Framework for text mining.\nlibrary(SnowballC) # Provides wordStem() for stemming.\nlibrary(RColorBrewer) # Generate palette of colours for plots.\nlibrary(ggplot2) # Plot word frequencies.\nlibrary(magrittr)\n#library(Rgraphviz) # Correlation plots  #no package available for 3.1.1 from cran\n\nsetwd(\"C:/Users/Dave/Google Drive/Predictive Analytics/453 - Text Analytics/R453 Text Analytics\")\ncorpus_dir <- \"EarningsCalls\"\ncname <- file.path(\".\", corpus_dir)\nnfiles <- length(dir(cname))\n\ndocs <- Corpus(DirSource(cname))\nclass(docs)\nclass(docs[[1]])\n#inspect(docs[1])  #commented out since this output is large\n\ntoSpace <- content_transformer(function(x, pattern) gsub(pattern, \" \", x))\n\n# doc style specific transfomration\ndocs <- tm_map(docs, toSpace, \"http:\\\\S*\") #remove URLS\ndocs <- tm_map(docs, toSpace, \"<.*/.*>\") #remove page numbers\ndocs <- tm_map(docs, toSpace, \"\\\\n\") #remove newline chars\n#TO-DO: remove unprintable characters\n\ngetTransformations() # this is the list of things we can do to the corpus\n\ndocs <- tm_map(docs, content_transformer(tolower))\ndocs <- tm_map(docs, content_transformer(removePunctuation))\ndocs <- tm_map(docs, removeWords, stopwords(\"english\"))\ndocs <- tm_map(docs, removeWords, c(\"question\")) #equivalent to SPSS concept delete\ndocs <- tm_map(docs, stripWhitespace)\ndocs <- tm_map(docs, removeNumbers)  #may want to reconsider doing this\n\n#docs <- tm_map(docs, stemDocument)  #step words -- not sure we want to do this\n#TO-DO: compare the differences of stemming and non stemming\n\ndtm <- DocumentTermMatrix(docs)\ndtm\nnterms <- dtm$ncol\ninspect(dtm[1:5, c(12:16, 1000:1005, seq(nterms-4,nterms))])  #first 11 have unprintable chars\n\nfreq <- colSums(as.matrix(dtm))\nord <- order(freq)\nfreq.most <- freq[tail(ord)]\nprint (\"The most frequent terms found are:\")\nfreq.most\nfreq.most\n\nterms <- names(freq)\nprint (\"Find terms with string 'product'\")\nfreq[grep(\"product\",terms)]\n\nbarplot(freq[grep(\"^cloud$|^hybrid|^product$|products\",terms)])  #word boundaries need work\n#\n#TO-DOplay around with synonyms\n#synonyms \"line product,product,product line,product lines,product offering,product offerings\"",
    "created" : 1415415364040.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2857015441",
    "id" : "433282FC",
    "lastKnownWriteTime" : 1415427302,
    "path" : "C:/Users/Dave/Google Drive/Predictive Analytics/453 - Text Analytics/R453 Text Analytics/Assignment 3- R analysis.R",
    "project_path" : "Assignment 3- R analysis.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}